jQuery(function(r){r("#yith_woocommerce_subscription_general .form-table").find("[data-deps]").each(function(){var e=r(this),n=e.closest("tr"),t=e.attr("data-deps").split(","),i=e.attr("data-deps_value").split(","),a=[];r.each(t,function(s,e){r('[name="'+e+'"]').on("change",function(){var e=this.value,t="";"radio"==this.type&&!r(this).is(":checked")||("checkbox"==this.type&&(e=r(this).is(":checked")?"yes":"no"),t=(t=i[s]+"").split("|"),a[s]=-1!==r.inArray(e,t),-1===r.inArray(!1,a)?n.fadeIn():n.fadeOut())}).change()})});r(document).on("change","#ywsbs_change_status_after_renew_order_creation_status",function(){var e=r(this).val();r(document).find(".show-if-overdue").hide(),r(document).find(".show-if-suspended").hide(),r(document).find(".show-if-cancelled").hide(),r(document).find(".show-if-"+e).show()}),r(document).on("change","#ywsbs_change_status_after_renew_order_creation_step_2_status",function(){var e=r(this).val(),t=r(document).find(".show-if-no-cancelled-step-2");"cancelled"===e?t.hide():t.show()}),r(document).on("change","#ywsbs_delivery_default_schedule_delivery_period",function(){var e=r(this).val();r(document).find(".show-if-weeks").hide(),r(document).find(".show-if-months").hide(),r(document).find(".show-if-years").hide(),r(document).find(".show-if-days").hide(),"days"===e?r(document).find(".hide-if-days").hide():r(document).find(".hide-if-days").show(),r(document).find(".show-if-"+e).show()}),r("#ywsbs_change_status_after_renew_order_creation_status").change(),r("#ywsbs_change_status_after_renew_order_creation_step_2_status").change(),r("#ywsbs_delivery_default_schedule_delivery_period").change(),function(){r(document).find(".without-padding").closest("tr").find("td").css({padding:"0 20px 30px 20px"});var e=r(document).find(".wrap.ywsbs_subscription_activities");0<e.length&&e.closest(".wrap.yith-plugin-ui").addClass("yith-plugin-fw-wp-page-wrapper").addClass("yith-current-subtab-opened").removeClass("wrap")}(),r("#ywsbs_change_status_after_renew_order_creation_status").on("change",function(){"overdue"==r(this).val()?(r(".hide-overdue").hide(),r(".renew_order_step1").closest("tr").addClass("no-padding-bottom")):(r(".hide-overdue").show(),r(".renew_order_step1").closest("tr").removeClass("no-padding-bottom"))}).change(),r("#ywsbs_subscription_action_style").on("change",function(){var e=r(this),t=r("#ywsbs_allow_customer_cancel_subscription").is(":checked");"dropdown"===e.val()&&t?r('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').show():r('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').hide()}),r("#ywsbs_allow_customer_cancel_subscription").on("change",function(){var e=r(this),t="dropdown"===r("#ywsbs_subscription_action_style").val();e.is(":checked")&&t?r('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').show():r('[data-dep-target="ywsbs_text_cancel_subscription_dropdown"]').hide()});var u=function(e,t,s,n){r.ajax({url:ywsbs_admin.ajaxurl,data:e,type:"POST",beforeSend:function(){t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},success:function(e){"undefined"==typeof e.error&&(1===e.result&&(t.find(".status-normal").text(n),s.find(".sent_on").text(e.sentOn)),t.unblock())}})};r(document).on("change",".status-hover",function(){var e=r(this),t=e.val(),s=e.closest(".status-td"),n=e.closest("tr"),i=(s.find("status-normal").text(),e.find(":selected").attr("data-label")),a=s.data("id"),o=r("#yith-shipped-confirm"),d={action:"ywsbs_update_delivery_status",security:ywsbs_admin.delivery_nonce,deliveryID:a,status:t,subscriptionID:r("#post_ID").val(),deliveryListTable:!0},c={};c[ywsbs_admin["continue"]]=function(){u(d,s,n,i),o.dialog("close")},c[ywsbs_admin.cancel]=function(){o.dialog("close")},"shipped"===t?o.dialog({width:450,modal:!0,dialogClass:"ywsbs-shipped-confirm",buttons:c}):u(d,s,n,i)}),r("#post-query-submit").on("click",function(e){e.preventDefault(),window.onbeforeunload=null,r("form").submit()})});